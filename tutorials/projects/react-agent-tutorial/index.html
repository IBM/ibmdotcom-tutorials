
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="IBM.com Technical Content Team">
      
      
        <link rel="canonical" href="https://ibm.github.io/ibmdotcom-tutorials/tutorials/projects/react-agent-tutorial/">
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>Deploy an IT support LangGraph ReAct agent with IBM Granite on watsonx.ai - IBM.com Tutorials</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,300i,400,400i,700,700i%7CIBM+Plex+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"IBM Plex Sans";--md-code-font:"IBM Plex Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Deploy an IT support LangGraph ReAct agent with IBM Granite on watsonx.ai - IBM.com Tutorials" >
      
        <meta  property="og:description"  content="None" >
      
        <meta  property="og:image"  content="https://ibm.github.io/ibmdotcom-tutorials/assets/images/social/tutorials/projects/react-agent-tutorial.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://ibm.github.io/ibmdotcom-tutorials/tutorials/projects/react-agent-tutorial/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Deploy an IT support LangGraph ReAct agent with IBM Granite on watsonx.ai - IBM.com Tutorials" >
      
        <meta  name="twitter:description"  content="None" >
      
        <meta  name="twitter:image"  content="https://ibm.github.io/ibmdotcom-tutorials/assets/images/social/tutorials/projects/react-agent-tutorial.png" >
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#deploy-an-it-support-langgraph-react-agent-with-ibm-granite-on-watsonxai" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="IBM.com Tutorials" class="md-header__button md-logo" aria-label="IBM.com Tutorials" data-md-component="logo">
      
  <img src="../../../assets/official_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            IBM.com Tutorials
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Deploy an IT support LangGraph ReAct agent with IBM Granite on watsonx.ai
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/IBM/ibmdotcom-tutorials" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
  
    
  
  Welcome

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../references/coc/" class="md-tabs__link">
          
  
  
    
  
  References

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="IBM.com Tutorials" class="md-nav__button md-logo" aria-label="IBM.com Tutorials" data-md-component="logo">
      
  <img src="../../../assets/official_logo.png" alt="logo">

    </a>
    IBM.com Tutorials
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/IBM/ibmdotcom-tutorials" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../.." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Welcome
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Welcome
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_3" >
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Setup
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials-list/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../projects-list/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Projects
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    References
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            References
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/coc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code of Conduct
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/license/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    License
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="deploy-an-it-support-langgraph-react-agent-with-ibm-granite-on-watsonxai">Deploy an IT support LangGraph ReAct agent with IBM Granite on watsonx.ai</h1>
<p><strong>Author:</strong> Anna Gutowska </p>
<p>In this tutorial, you will build a <a href="https://www.ibm.com/think/topics/react-agent">ReAct (Reasoning and Action) AI agent</a> with the open-source <a href="https://www.ibm.com/think/topics/langgraph">LangGraph</a> framework by using an <a href="https://www.ibm.com/granite">IBM Granite model</a> through the IBM® watsonx.ai® <a href="https://www.ibm.com/think/topics/api">API</a> in Python. The use case is to manage existing IT support tickets and to create new ones.</p>
<h2 id="what-is-a-react-agent">What is a ReAct agent?</h2>
<p>An <a href="https://www.ibm.com/think/topics/ai-agents">artificial intelligence (AI) agent</a> refers to a system or program that is capable of autonomously performing tasks on behalf of a user or another system by designing its agent workflow and using available tools. Generative AI agents use the advanced <a href="https://www.ibm.com/think/topics/natural-language-processing">natural language processing</a> (NLP) techniques of <a href="https://www.ibm.com/think/topics/large-language-models">large language models (LLMs)</a> to comprehend and respond to user inputs step-by-step and determine when to call on external tools. A <a href="https://www.ibm.com/think/topics/components-of-ai-agents">core component of AI agents</a> is <a href="https://www.ibm.com/think/topics/agentic-reasoning">reasoning</a>. Upon acquiring new information through <a href="https://www.ibm.com/think/topics/tool-calling">tool calling</a>, human intervention or other agents, the reasoning paradigm guides the agent’s next steps. </p>
<p>With each action and each tool response, the ReAct (Reasoning and Action) paradigm instructs agents to "think" and plan their next steps. This step-by-step, slow reasoning, gives us insight into how the agent uses updated context to formulate conclusions. Because this process of reflection is continuous, it is often referred to as a think-act-observe loop and is a form of <a href="https://www.ibm.com/think/topics/chain-of-thoughts">chain-of-thought prompting</a>.</p>
<h2 id="using-langgraph-to-build-react-agents">Using LangGraph to build ReAct agents</h2>
<p>This tutorial will use the <a href="https://www.ibm.com/think/topics/langgraph">LangGraph</a> framework, an open source AI agent framework designed to build, deploy and manage complex generative AI agent workflows. The prebuilt <code>create_react_agent</code> function provided by LangGraph is an easy way to build a simple, custom agent. Simple ReAct agents, like the one in this tutorial as depicted in Figure 1, are composed of two nodes. One node is responsible for calling the model and the other node is for using tools. Common tools include the prebuilt LangChain Wikipedia tool, DuckDuckGoSearchRun tool and even <a href="https://www.ibm.com/think/topics/retrieval-augmented-generation">retrieval-augmented generation (RAG)</a>. In cases with complex action input, another node can be added, as seen in Figure 2. This additional node would serve the purpose of helping ensure the agent returns structured output. </p>
<p><img src="https://assets.ibm.com/is/image/ibm/react-agent?$original$&fmt=png-alpha"
     alt="ReAct vs. ReAct with structured output"
     style="algn: left; margin-right: 10px; width: 600; height: 400px;" /></p>
<p>Within LangGraph, the “state” feature serves as a memory bank that records and tracks all the valuable information processed by each iteration of the AI system. These stateful graphs allow agent's to recall past information and valuable context. The cyclic structure of the ReAct graph is leveraged when the outcome of one step depends on previous steps in the loop. The nodes, or "actors," in the graph encode agent logic and are connected by edges. Edges are essentially Python functions that determine the next node to execute depending on the current state.</p>
<h2 id="steps">Steps</h2>
<h3 id="step-1-generate-your-watsonxai-credentials">Step 1. Generate your watsonx.ai credentials</h3>
<p>While you can choose from several tools, this tutorial walks you through how to set up an IBM account to use a Jupyter Notebook. </p>
<ol>
<li>
<p>Log in to <a href="https://dataplatform.cloud.ibm.com/registration/stepone?context=wx&amp;apps=all">watsonx.ai</a> using your IBM Cloud® account.</p>
</li>
<li>
<p>Create a <a href="https://cloud.ibm.com/catalog/services/watsonxai-runtime">watsonx.ai Runtime</a> service instance (select your appropriate region and choose the Lite plan, which is a free instance).</p>
</li>
<li>
<p>Generate an <a href="https://dataplatform.cloud.ibm.com/docs/content/wsj/analyze-data/ml-authentication.html">application programming interface (API) key</a>. </p>
</li>
</ol>
<h3 id="step-2-set-up-the-project-in-your-ide">Step 2. Set up the project in your IDE</h3>
<p>To easily get started with deploying agents on watsonx.ai, clone this <a href="https://github.com/IBM/ibmdotcom-tutorials">GitHub repository</a> and access the IT support ReAct agent project. You can run the following command in your terminal to do so.</p>
<pre><code class="language-sh">git clone git@github.com:IBM/ibmdotcom-tutorials.git
cd react-agent-langgraph-it-support/base/langgraph-react-agent/
</code></pre>
<p>Next, install poetry if you do not already have it installed. Poetry is a tool for manageing Python dependencies and packaging.</p>
<pre><code class="language-sh">pipx install --python 3.11 poetry
</code></pre>
<p>Then, activate your virtual environment.</p>
<pre><code class="language-sh">source $(poetry -q env use 3.11 &amp;&amp; poetry env info --path)/bin/activate
</code></pre>
<p>Rather than using the <code>pip install</code> command, the poetry package allows us to add dependencies by running the following command in the terminal. This step installs the repository dependencies reflected in the <code>pyproject.toml</code> file to your separate virtual environment.</p>
<pre><code class="language-sh">poetry install
</code></pre>
<p>Adding a working directory to PYTHONPATH is necessary for the next steps. In your terminal execute:  </p>
<pre><code class="language-sh">export PYTHONPATH=$(pwd):${PYTHONPATH}
</code></pre>
<p>To set up your environment, follow along with the instructions in the <a href="https://github.com/IBM/watsonx-developer-hub/tree/main/agents/base/langgraph-react-agent">README.md</a> file on Github. This set up requires several commands to be run on your IDE or command line.</p>
<h3 id="step-3-set-the-environment-variables">Step 3. Set the environment variables</h3>
<p>In the <code>config.toml</code> file, you will find the following blank credentials that must be filled in before attempting to deploy your agent. Your <code>watsonx_apikey</code> and <code>watsonx_url</code> were initialized in step 1 of this tutorial. Next, follow along with the simple form found on the <a href="https://dataplatform.cloud.ibm.com/developer-access">Developer Access</a> page to select your deployment space or create a new one. There, you can retrieve your <code>space_id</code> needed to connect our agent to the watsonx.ai deployment. Lastly, your <code>model_id</code> is set to the IBM Granite 3.2 model. </p>
<pre><code>[deployment]
  watsonx_apikey = &quot;&quot;
  watsonx_url = &quot;&quot;  # should follow the format: `https://{REGION}.ml.cloud.ibm.com`
  space_id = &quot;&quot; # found in the &quot;Manage&quot; tab of your Deployment or in the Developer Access page here: https://dataplatform.cloud.ibm.com/developer-access

[deployment.custom]
# during creation of deployment additional parameters can be provided inside `CUSTOM` object for further referencing
# please refer to the API docs: https://cloud.ibm.com/apidocs/machine-learning-cp#deployments-create
  model_id = &quot;ibm/granite-3-2-8b-instruct&quot;
  thread_id = &quot;thread-1&quot; # More info here: https://langchain-ai.github.io/langgraph/how-tos/persistence/
</code></pre>
<h3 id="step-4-upload-your-data-to-ibm-cloud-object-storage">Step 4. Upload your data to IBM Cloud Object Storage</h3>
<p>Our agent requires a data source to provide up-to-date information and add new data. We will store our data file in IBM Cloud® Object Storage. </p>
<ol>
<li>First, log in to <a href="https://cloud.ibm.com/objectstorage/overview">IBM Cloud</a>. Then, create a <a href="https://cloud.ibm.com/projects">new project</a>. </li>
<li>In the left-side menu, select <a href="https://cloud.ibm.com/resources">Resource list</a>. Using the Create resource button, create a new Cloud Object Storage instance or simply use <a href="https://cloud.ibm.com/objectstorage/create?catalog_query=aHR0cHM6Ly9jbG91ZC5pYm0uY29tL2NhdGFsb2c%2FY2F0ZWdvcnk9c3RvcmFnZSNhbGxfcHJvZHVjdHM%3D">this link</a>. </li>
<li>Open your newly created IBM Cloud Storage Instance, create a new bucket. For this tutorial, you can select the Smart Tier which is the free tier. When directed, upload your file. For the sample file, refer to the tickets.csv file in the <a href="https://github.com/IBM/ibmdotcom-tutorials">GitHub repository</a>.</li>
</ol>
<h3 id="step-5-establish-your-data-connection">Step 5. Establish your data connection</h3>
<p>To provide the ReAct agent with IT ticket management functionality, we must connect to our data source in IBM Cloud Object Storage. For this step, we can use the <a href="https://cloud.ibm.com/docs/cloud-object-storage?topic=cloud-object-storage-python"><code>ibm_boto3</code> library</a>.</p>
<p>In <code>tools.py</code>, the <code>COS_ENDPOINT</code>, <code>COS_INSTANCE_CRN</code>, <code>BUCKET_NAME</code> and <code>CSV_FILE_NAME</code> must be filled in with the appropriate information using the bucket details found in your Cloud Object Storage instance under the Configuration tab. </p>
<p>```python
  COS_ENDPOINT = ""       #find in your COS bucket configuration
  COS_INSTANCE_CRN = ""   #find in your COS bucket configuration
  BUCKET_NAME = ""        #find in your COS bucket configuration
  CSV_FILE_NAME = "filename.csv" #you can use the provided tickets.csv sample file </p>
<p>cos = ibm_boto3.client(
      "s3",
      ibm_api_key_id=dep_config["watsonx_apikey"],
      ibm_service_instance_id=COS_INSTANCE_CRN,
      config=Config(signature_version="oauth"),
      endpoint_url=COS_ENDPOINT,
  )
  ```</p>
<h3 id="step-6-create-your-custom-tools">Step 6. Create your custom tools</h3>
<p>Our agent will be able to both read and write data in our file. First, let's create the tool to read data using the LangChain <code>@tool</code> decorator. </p>
<p>We have added this <code>find_tickets</code> tool to the <code>tools.py</code> file. This tool retrieves the data object from Cloud Object Storage and returns it as a Pandas dataframe. Otherwise, an exception is thrown. </p>
<p><code>python 
  @tool 
  def find_tickets():
      """Returns a list of of all tickets."""
      try:
          response = cos.get_object(Bucket=BUCKET_NAME, Key=CSV_FILE_NAME)
          csv_data = pd.read_csv(response['Body']) 
          print("Ticket file loaded successfully:")
          return csv_data
      except Exception as e:
          print(f"Error loading file from COS: {e}")
          return None</code></p>
<p>Next, we have added the <code>create_ticket</code> tool. </p>
<p>```python 
  @tool 
def create_ticket(issue: str, urgency:str):
    """Creates a tickets for a customer issue. Request a detailed explanation of the customer issue and urgency level before creating a ticket.</p>
<pre><code>Args:
    issue (str): A description of the issue.
    urgency (str): A category value for the level of urgency. Can be "low", "medium", or "high".

Returns:
    The new ticket.
"""
try:
    # retrieve the existing item to reload the contents
    response = cos.get_object(Bucket=BUCKET_NAME, Key=CSV_FILE_NAME)
    existing_body_df = pd.read_csv(response['Body'])
    new_ticket = {"issue": issue, "date_added":datetime.now().strftime("%m-%d-%Y"), "urgency":urgency, "status":"open"}
    # Add a new row (i.e. ticket) using loc[]
    existing_body_df.loc[len(existing_body_df)] = new_ticket

    cos.put_object(Bucket=BUCKET_NAME, Key=CSV_FILE_NAME, Body=existing_body_df.to_json())
    return "New ticket successfully created!"
except Exception as e:
    print("Unable to create new ticket. Please try again.")
</code></pre>
<p>```</p>
<p>This tool takes in the description of the issue from the user and the urgency of the issue as its arguments. A new row is added to our file in COS with this information and thus, a new ticket is created. Otherwise, an exception is thrown. </p>
<p>One last tool we must add to our <code>tools.py</code> file is the <code>get_todays_date</code> tool which uses the <code>datetime</code> module to return today's date in MM-DD-YYYY format. This tool will be useful for accessing the current date, which the agent has no other way of retrieving because the LLM was not trained on this data. </p>
<p><code>python
  @tool
  def get_todays_date():
    """Returns today's date in MM-DD-YYYY format."""
    date = datetime.now().strftime("%m-%d-%Y")
    return date</code></p>
<p>To grant our agent access to these tools, we have added them to the <code>TOOLS</code> list in the <code>extensions</code> module's <a href="src/langgraph_react_agent/__init__.py">init.py</a> file. This list should be the contents of your <code>init.py</code> file in the <code>src/langgraph_react_agent</code> directory.</p>
<p>```python 
  from .tools import (
    find_tickets,
    get_todays_date,
    create_ticket
  )</p>
<p>TOOLS = [
      find_tickets,
      get_todays_date,
      create_ticket
  ]
  ```</p>
<p>These tools are imported in the <code>agent.py</code> file and passed to the prebuilt LangGraph <code>create_react_agent</code> function serving as the agent executor. Other parameters include the large language model initialized by using the <code>ChatWatsonx</code> class which allows for tool calling on watsonx.ai, the memory saver and system prompt. Note, some prompts will behave better than others and so, some level of prompt engineering might be required depending on the LLM you choose. </p>
<h3 id="step-7-chat-with-your-agent">Step 7. Chat with your agent</h3>
<p>There are three ways to chat with your agent.</p>
<h4 id="option-1-query-the-agent-locally">Option 1. Query the agent locally</h4>
<p>Run the script for local AI service execution.
  <code>sh
  poetry run python examples/execute_ai_service_locally.py</code></p>
<h4 id="option-2-deploy-the-agent-to-the-built-in-chat-interface-in-watsonxai">Option 2. Deploy the agent to the built-in chat interface in watsonx.ai</h4>
<p>The final option is to access the agent in the Deployments space on watsonx.ai. To do this, select "Deployments" on the left-side menu. Then, select your deployment space, select the "Assets" tab, select your <code>online ai_service</code> asset, select the asset with the "wx-agent" tag once more and finally, open the "Preview" tab. Now, you can chat with the agent in the interactive chat interface. Each of these 3 options should result in a similar output. </p>
<h4 id="option-3-deploy-and-chat-with-the-agent-in-your-ide">Option 3. Deploy and chat with the agent in your IDE</h4>
<p>To run the deployment script, initialize the <code>deployment_id</code> variable in the <a href="examples/query_existing_deployment.py">query_existing_deployment.py</a> file.</p>
<p>The <code>deployment_id</code> of your deployment can be obtained by running the <a href="scripts/deploy.py">scripts/deploy.py</a>.</p>
<p>Next, run the deployment script. 
  <code>sh
  poetry run python scripts/deploy.py</code>
Then, run the script for querying the deployment.
  <code>sh
  poetry run python examples/query_existing_deployment.py</code></p>
<p>For the purposes of this tutorial, let's choose option 2 and query our deployed agent on watsonx.ai in the form of an agentic chatbot. Let's provide the agent with some prompts that would require the usage of tools. Upon following the steps listed in Option 3, you should see a chat interface on watsonx.ai. There, we can type our prompt. </p>
<p>First, let's test whether the <code>create_ticket</code> tool will be successfully invoked. Let's prompt the agent to create a new ticket.</p>
<p><img src="https://assets.ibm.com/is/image/ibm/creating_ticket?$original$&fmt=png-alpha"
     alt="Prompting the agent to create a new ticket"
     style="algn: left; margin-right: 10px; width: 550; height: 600px;" /></p>
<p>As you can see in the agent's final answer, the AI system successfully used problem-solving to create a new ticket with the <code>create_ticket</code> tool. Having the visibility into tool calls is helpful for debugging purposes. Now, let's check whether the ticket was successfully added to our data file serving as the agent's knowledge base. </p>
<p><img src="https://assets.ibm.com/is/image/ibm/get_recent_ticket?$original$&fmt=png-alpha"
     alt="Prompting the agent to show recent ticket"
     style="align: left; margin-right: 10px; width: 550; height: 600px;" /></p>
<p>Great! The agent successfully added the ticket to the file. </p>
<h2 id="conclusion">Conclusion</h2>
<p>In this tutorial, you created an agent with the ReAct framework that uses decision making to solve complex tasks such as retrieving and creating support tickets. There are several AI models out there that allow for agentic tool calling such as Google's Gemini, IBM's Granite and OpenAI's GPT-4. In our project, we used an IBM Granite AI model through the watsonx.ai API. The model behaved as expected both locally and when deployed on watsonx.ai. As a next step, check out the <a href="https://github.com/IBM/watsonx-developer-hub/tree/main/agents/base/llamaindex-websearch-agent">LlamaIndex</a> and <a href="https://github.com/IBM/watsonx-developer-hub/tree/main/agents/base/crewai-websearch-agent">crewAI</a> <a href="https://www.ibm.com/think/topics/multiagent-system">multiagent</a> templates available in the <a href="https://github.com/IBM/watsonx-developer-hub/tree/main/agents">watsonx-developer-hub GitHub repository</a> for building AI agents. </p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.path", "navigation.indexes", "toc.follow", "toc.integrate", "navigation.top", "navigation.footer", "navigation.expand"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.50899def.min.js"></script>
      
    
  </body>
</html>